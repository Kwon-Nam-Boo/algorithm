package com.ssafy;

import java.io.BufferedReader;
import java.io.IOError;
import java.io.IOException;
import java.io.InputStreamReader;

public class MovieTest {

	public static void main(String[] args) throws IOException{
		BufferedReader br =  new BufferedReader(new InputStreamReader(System.in));
		
		MovieMgr mg1 = MovieMgr.getinstance();
		MovieMgr mg2 = MovieMgr.getinstance();
		MovieMgr mg3 = MovieMgr.getinstance();
		
		mg1.add(new Movie("범죄도시", "강윤성", 15, "범죄", "마동석"));
		mg2.add(new Movie("겨울왕국", "디즈니", 7, "애니메이션", "렛잇고"));
		mg3.add(new Movie("명량", "김한민", 12, "역사", "국뽕"));
		
		
		int flag =1;
		
		while(flag==1) {
			System.out.println("<<< 영화 관리 프로그램 >>>");
			System.out.println("1. 영화 정보 입력");
			System.out.println("2. 영화 정보 전체 검색");
			System.out.println("3. 영화명 검색");
			System.out.println("4. 영화 장르별 검색");
			System.out.println("5. 영화 정보 삭제");
			System.out.println("0. 종료");
			System.out.println("원하는 번호를 선택하세요. _");
			
			int N = Integer.parseInt(br.readLine());
			
			switch(N) {
				case 2:
					for(Movie mv:mg1.search()) {			// 영화 전체 출력
						if(mv==null) break;
						System.out.println(mv);
					}
					break;
				case 3:
					String src = br.readLine();
					for(Movie mv:mg1.searchDirector("강윤성")) {		// 검색한 영화감독의 영화 출력
						if(mv==null) break;
						System.out.println(mv);
					}
			}
			
		}
		
		
		
		
		
		
		for(Movie mv:mg1.search()) {			// 영화 전체 출력
			if(mv==null) break;
			System.out.println(mv);
		}
		System.out.println();
		
		for(Movie mv:mg1.searchDirector("강윤성")) {		// 검색한 영화감독의 영화 출력
			if(mv==null) break;
			System.out.println(mv);
		}
		System.out.println();
		
		for(Movie mv:mg1.searchGenre("역사")) {		// 검색한 장르의 영화 출력
			if(mv==null) break;
			System.out.println(mv);
		}
		System.out.println();
		
		mg1.delete("범죄도시");						// 영화 삭제
		
		for(Movie mv:mg1.search()) {			
			if(mv==null) break;
			System.out.println(mv);
		}
		System.out.println();
		
		System.out.println(mg1.getSize());
		
		
	}	

}
